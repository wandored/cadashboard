{% extends "layouts/base.html" %}

{% block title %} {{ store_name }} {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

<div class="container-fluid py-4">
  <div class="row">
    <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
      <div class="card">
        <div class="card-header p-3 pt-2">
          <div class="icon icon-lg icon-shape bg-gradient-primary shadow-primary text-center border-radius-xl mt-n4 position-absolute">
            <i class="material-icons opacity-10">paid</i>
          </div>
            <div class="text-end pt-1">
              <p class="text-sm mb-0 text-capitalize">{{ fiscal_dates["date"] }} </p>
              <h4 class="mb-0">{{ "${:,.0f}".format(daily_sales) }}</h4>
            </div>
        </div>
        <hr class="dark horizontal my-0">
          {% if daily_sales_ly == 0 %}
          <div class="card-footer p-3">
            <p class="mb-0"><span class="text-sm font-weight-bolder">No sales last year</span></p>
          </div>
          {% elif daily_sales >= daily_sales_ly %}
          <div class="card-footer p-3">
            <p class="mb-0"><i class="fa fa-arrow-up text-success" aria-hidden="true"></i><span class="text-sm font-weight-bolder">{{ "%{:,.0f}".format(((daily_sales - daily_sales_ly) / daily_sales_ly) * 100) }} - {{ "${:,.0f}".format(daily_sales_ly) }}</span> SDLY</p>
          </div>
          {% else %}
          <div class="card-footer p-3">
            <p class="mb-0"><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i><span class="text-sm font-weight-bolder">{{ "%{:,.0f}".format(((daily_sales - daily_sales_ly)|abs / daily_sales_ly) * 100) }} - {{ "${:,.0f}".format(daily_sales_ly) }}</span> SDLY</p>
          </div>
          {% endif %}
      </div>
    </div>
    <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
      <div class="card">
        <div class="card-header p-3 pt-2">
          <div class="icon icon-lg icon-shape bg-gradient-success shadow-success text-center border-radius-xl mt-n4 position-absolute">
            <i class="material-icons opacity-10">paid</i>
          </div>
            <div class="text-end pt-1">
              <p class="text-sm mb-0 text-capitalize">Week {{ fiscal_dates["week"] }} Sales</p>
              <h4 class="mb-0">{{ "${:,.0f}".format(weekly_sales) }}</h4>
            </div>
        </div>
        <hr class="dark horizontal my-0">
          {% if weekly_sales_ly == 0 %}
          <div class="card-footer p-3">
            <p class="mb-0"><span class="text-sm font-weight-bolder">No sales last year</span></p>
          </div>
          {% elif weekly_sales >= wtd_sales_ly %}
          <div class="card-footer p-3">
            <p class="mb-0"><i class="fa fa-arrow-up text-success" aria-hidden="true"></i><span class="text-sm font-weight-bolder">{{ "%{:,.0f}".format(((weekly_sales - wtd_sales_ly) / wtd_sales_ly) * 100) }} - {{ "${:,.0f}".format(wtd_sales_ly) }}</span> WTD</p>
          </div>
          {% else %}
          <div class="card-footer p-3">
            <p class="mb-0"><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i><span class="text-sm font-weight-bolder">{{ "%{:,.0f}".format(((weekly_sales - wtd_sales_ly)|abs / wtd_sales_ly) * 100) }} - {{ "${:,.0f}".format(wtd_sales_ly) }}</span> WTD</p>
          </div>
          {% endif %}
      </div>
    </div>
    <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
      <div class="card">
        <div class="card-header p-3 pt-2">
          <div class="icon icon-lg icon-shape bg-gradient-info shadow-info text-center border-radius-xl mt-n4 position-absolute">
            <i class="material-icons opacity-10">paid</i>
          </div>
            <div class="text-end pt-1">
              <p class="text-sm mb-0 text-capitalize">Period {{ fiscal_dates["period"] }} Sales</p>
              <h4 class="mb-0">{{ "${:,.0f}".format(period_sales) }}</h4>
            </div>
        </div>
        <hr class="dark horizontal my-0">
          {% if period_sales_ly == 0 %}
          <div class="card-footer p-3">
            <p class="mb-0"><span class="text-sm font-weight-bolder">No sales last year</span></p>
          </div>
          {% elif period_sales >= ptd_sales_ly %}
          <div class="card-footer p-3">
            <p class="mb-0"><i class="fa fa-arrow-up text-success" aria-hidden="true"></i><span class="text-sm font-weight-bolder">{{ "%{:,.0f}".format(((period_sales - ptd_sales_ly) / ptd_sales_ly) * 100) }} - {{ "${:,.0f}".format(ptd_sales_ly) }}</span> PTD</p>
          </div>
          {% else %}
          <div class="card-footer p-3">
            <p class="mb-0"><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i><span class="text-sm font-weight-bolder">{{ "%{:,.0f}".format(((period_sales - ptd_sales_ly)|abs / ptd_sales_ly) * 100) }} - {{ "${:,.0f}".format(ptd_sales_ly) }}</span> PTD</p>
          </div>
          {% endif %}
      </div>
    </div>
    <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
      <div class="card">
        <div class="card-header p-3 pt-2">
          <div class="icon icon-lg icon-shape bg-gradient-warning shadow-warning text-center border-radius-xl mt-n4 position-absolute">
            <i class="material-icons opacity-10">paid</i>
          </div>
            <div class="text-end pt-1">
              <p class="text-sm mb-0 text-capitalize">Fiscal {{ fiscal_dates["year"] }} Sales</p>
              <h4 class="mb-0"> {{ "${:,.0f}".format(yearly_sales) }}</h4>
            </div>
        </div>
        <hr class="dark horizontal my-0">
          {% if yearly_sales_ly == 0 %}
          <div class="card-footer p-3">
            <p class="mb-0"><span class="text-sm font-weight-bolder">No sales last year</span></p>
          </div>
          {% elif yearly_sales >= ytd_sales_ly %}
          <div class="card-footer p-3">
            <p class="mb-0"><i class="fa fa-arrow-up text-success" aria-hidden="true"></i><span class="text-sm font-weight-bolder">{{ "%{:,.0f}".format(((yearly_sales - ytd_sales_ly) / ytd_sales_ly) * 100) }} - {{ "${:,.0f}".format(ytd_sales_ly) }}</span> YTD</p>
          </div>
          {% else %}
          <div class="card-footer p-3">
            <p class="mb-0"><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i><span class="text-sm font-weight-bolder">{{ "%{:,.0f}".format(((yearly_sales - ytd_sales_ly)|abs / ytd_sales_ly) * 100) }} - {{ "${:,.0f}".format(ytd_sales_ly) }}</span> YTD</p>
          </div>
          {% endif %}
      </div>
    </div>
  </div>
  <!-- Sales-Charts -->
  <div class="row mt-4">
    <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
      <div class="card z-index-2 ">
        <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
          <div class="bg-gradient-success shadow-success border-radius-lg py-3 pe-1">
            <div class="chart">
              <canvas id="wtd-sales-chart" class="chart-canvas" height="170"></canvas>
            </div>
          </div>
        </div>
        <div class="card-body">
          <h6 class="mb-0 ">Week to Date Sales</h6>
          {% if weekly_sales > wtd_sales_ly %}
          <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.0f}".format(weekly_sales - wtd_sales_ly) }} over last year</p>
          {% else %}
          <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.0f}".format(weekly_sales - wtd_sales_ly) }} below last year</p>
          {% endif %}
        </div>
      </div>
    </div>
    <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
      <div class="card z-index-2  ">
        <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
          <div class="bg-gradient-info shadow-info border-radius-lg py-3 pe-1">
            <div class="chart">
              <canvas id="ptd-sales-chart" class="chart-canvas" height="170"></canvas>
            </div>
          </div>
        </div>
        <div class="card-body">
          <h6 class="mb-0 ">Period to Date Sales</h6>
          {% if period_sales > ptd_sales_ly %}
          <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.0f}".format(period_sales - ptd_sales_ly) }} over last year</p>
          {% else %}
          <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.0f}".format(period_sales - ptd_sales_ly) }} below last year</p>
          {% endif %}
        </div>
      </div>
    </div>
    <div class="col-lg-4 mt-4 mb-3">
      <div class="card z-index-2 ">
        <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
          <div class="bg-gradient-warning shadow-warning border-radius-lg py-3 pe-1">
            <div class="chart">
              <canvas id="ytd-sales-chart" class="chart-canvas" height="170"></canvas>
            </div>
          </div>
        </div>
        <div class="card-body">
          <h6 class="mb-0 ">Year to Date Sales</h6>
          {% if yearly_sales > ytd_sales_ly %}
          <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.0f}".format(yearly_sales - ytd_sales_ly) }} over last year</p>
          {% else %}
          <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.0f}".format(yearly_sales - ytd_sales_ly) }} below last year</p>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
  <!-- Daily Table -->
  <div class="row mb-4">
    <div class="col-lg-12 mb-md-0 mb-4">
      <div class="card">
          <ul class="nav nav-tabs mb-0" id="nav-tab" role="tablist">
          <li class="nav-item" role="presentation">
            <button class="nav-link active" id="nav-week-tab" data-bs-toggle="pill" data-bs-target="#nav-week" type="button" role="tab" aria-controls="nav-week" aria-selected="true">Week</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="nav-period-tab" data-bs-toggle="pill" data-bs-target="#nav-period" type="button" role="tab" aria-controls="nav-period" aria-selected="false">Period</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="nav-year-tab" data-bs-toggle="pill" data-bs-target="#nav-year" type="button" role="tab" aria-controls="nav-year" aria-selected="false">Year</button>
          </li>
        </ul>
        <div class="tab-content" id="nav-tabContent">
          <div class="tab-pane fade show active" id="nav-week" role="tabpanel" aria-labelledby="nav-week-tab">
            <div class="card-header pb-0">
              <div class="row">
                <div class="col-lg-6 col-7">
                    <h4>Week-{{ fiscal_dates["week"] }} Period-{{ fiscal_dates["period"]}} {{ fiscal_dates["year"]}}</h4>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
                <div class="card z-index-2">
                  <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                    <div class="bg-gradient-success shadow-success border-radius-lg py-3 pe-1">
                      <div class="chart">
                        <canvas id="chart-week-lunch-sales" class="chart-canvas" height="170"></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <h6 class="mb-0 ">Lunch Sales</h6>
                    {% if week_lunch_sales_total > wtd_lunch_sales_total_ly %}
                    <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.1f}%".format(wtd_lunch_sales_pct) }} over last year</p>
                    {% else %}
                    <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.1f}%".format(wtd_lunch_sales_pct) }} below last year</p>
                    {% endif %}
                  </div>
                </div>
              </div>
              <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
                <div class="card z-index-2">
                  <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                    <div class="bg-gradient-success shadow-success border-radius-lg py-3 pe-1">
                      <div class="chart">
                        <canvas id="chart-week-dinner-sales" class="chart-canvas" height="170"></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <h6 class="mb-0 ">Dinner Sales</h6>
                    {% if week_dinner_sales_total > wtd_dinner_sales_total_ly %}
                    <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.1f}%".format(wtd_dinner_sales_pct) }} over last year</p>
                    {% else %}
                    <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.1f}%".format(wtd_dinner_sales_pct) }} below last year</p>
                    {% endif %}
                  </div>
                </div>
              </div>
              <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
                <div class="card z-index-2">
                  <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                    <div class="bg-gradient-success shadow-success border-radius-lg py-3 pe-1">
                      <div class="chart">
                        <canvas id="chart-week-togo-sales" class="chart-canvas" height="170"></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <h6 class="mb-0 ">To-Go Sales</h6>
                    {% if week_togo_sales_total > wtd_togo_sales_total_ly %}
                    <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.1f}%".format(wtd_togo_sales_pct) }} over last year</p>
                    {% else %}
                    <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.1f}%".format(wtd_togo_sales_pct) }} below last year</p>
                    {% endif %}
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
                <div class="card z-index-2">
                  <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                    <div class="bg-gradient-success shadow-success border-radius-lg py-3 pe-1">
                      <div class="chart">
                        <canvas id="chart-week-beer-sales" class="chart-canvas" height="170"></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <h6 class="mb-0 ">Beer Sales</h6>
                    {% if week_beer_sales_total > wtd_beer_sales_total_ly %}
                    <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.1f}%".format(wtd_beer_sales_pct) }} over last year</p>
                    {% else %}
                    <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.1f}%".format(wtd_beer_sales_pct) }} below last year</p>
                    {% endif %}
                  </div>
                </div>
              </div>
              <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
                <div class="card z-index-2">
                  <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                    <div class="bg-gradient-success shadow-success border-radius-lg py-3 pe-1">
                      <div class="chart">
                        <canvas id="chart-week-wine-sales" class="chart-canvas" height="170"></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <h6 class="mb-0 ">Wine Sales</h6>
                    {% if week_wine_sales_total > wtd_wine_sales_total_ly %}
                    <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.1f}%".format(wtd_wine_sales_pct) }} over last year</p>
                    {% else %}
                    <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.1f}%".format(wtd_wine_sales_pct) }} below last year</p>
                    {% endif %}
                  </div>
                </div>
              </div>
              <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
                <div class="card z-index-2">
                  <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                    <div class="bg-gradient-success shadow-success border-radius-lg py-3 pe-1">
                      <div class="chart">
                        <canvas id="chart-week-liquor-sales" class="chart-canvas" height="170"></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <h6 class="mb-0 ">Liquor Sales</h6>
                    {% if week_liquor_sales_total > wtd_liquor_sales_total_ly %}
                    <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.1f}%".format(wtd_liquor_sales_pct) }} over last year</p>
                    {% else %}
                    <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.1f}%".format(wtd_liquor_sales_pct) }} below last year</p>
                    {% endif %}
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
                <div class="card z-index-2">
                  <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                    <div class="bg-gradient-success shadow-success border-radius-lg py-3 pe-1">
                      <div class="chart">
                        <canvas id="chart-week-giftcard-sales" class="chart-canvas" height="170"></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <h6 class="mb-0 ">Gift Card Sales</h6>
                    {% if week_giftcard_sales_total > wtd_giftcard_sales_total_ly %}
                    <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.1f}%".format(wtd_giftcard_sales_pct) }} over last year</p>
                    {% else %}
                    <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.1f}%".format(wtd_giftcard_sales_pct) }} below last year</p>
                    {% endif %}
                  </div>
                </div>
              </div>
              <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
                <div class="card z-index-2">
                  <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                    <div class="bg-gradient-success shadow-success border-radius-lg py-3 pe-1">
                      <div class="chart">
                        <canvas id="chart-week-giftcard-redeem" class="chart-canvas" height="170"></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <h6 class="mb-0 ">Gift Cards Redeemed</h6>
                    {% if week_giftcard_redeem_total > wtd_giftcard_redeem_total_ly %}
                    <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.1f}%".format(wtd_giftcard_redeem_pct) }} over last year</p>
                    {% else %}
                    <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.1f}%".format(wtd_giftcard_redeem_pct) }} below last year</p>
                    {% endif %}
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="tab-pane fade" id="nav-period" role="tabpanel" aria-labelledby="nav-period-tab">
            <div class="card-header pb-0">
              <div class="row">
                <div class="col-lg-6 col-7">
                    <h4>Period-{{ fiscal_dates["period"] }} {{ fiscal_dates["year"]}}</h4>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
                <div class="card z-index-2">
                  <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                    <div class="bg-gradient-info shadow-info border-radius-lg py-3 pe-1">
                      <div class="chart">
                        <canvas id="chart-period-lunch-sales" class="chart-canvas" height="170"></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <h6 class="mb-0 ">Lunch Sales</h6>
                    {% if period_lunch_sales_total > ptd_lunch_sales_total_ly %}
                    <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.1f}%".format(ptd_lunch_sales_pct) }} over last year</p>
                    {% else %}
                    <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.1f}%".format(ptd_lunch_sales_pct) }} below last year</p>
                    {% endif %}
                  </div>
                </div>
              </div>
              <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
                <div class="card z-index-2">
                  <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                    <div class="bg-gradient-info shadow-info border-radius-lg py-3 pe-1">
                      <div class="chart">
                        <canvas id="chart-period-dinner-sales" class="chart-canvas" height="170"></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <h6 class="mb-0 ">Dinner Sales</h6>
                    {% if period_dinner_sales_total > ptd_dinner_sales_total_ly %}
                    <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.1f}%".format(ptd_dinner_sales_pct) }} over last year</p>
                    {% else %}
                    <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.1f}%".format(ptd_dinner_sales_pct) }} below last year</p>
                    {% endif %}
                  </div>
                </div>
              </div>
              <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
                <div class="card z-index-2">
                  <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                    <div class="bg-gradient-info shadow-info border-radius-lg py-3 pe-1">
                      <div class="chart">
                        <canvas id="chart-period-togo-sales" class="chart-canvas" height="170"></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <h6 class="mb-0 ">To-Go Sales</h6>
                    {% if period_togo_sales_total > ptd_togo_sales_total_ly %}
                    <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.1f}%".format(ptd_togo_sales_pct) }} over last year</p>
                    {% else %}
                    <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.1f}%".format(ptd_togo_sales_pct) }} below last year</p>
                    {% endif %}
                  </div>
                </div>
              </div>
              <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
                <div class="card z-index-2">
                  <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                    <div class="bg-gradient-info shadow-info border-radius-lg py-3 pe-1">
                      <div class="chart">
                        <canvas id="chart-period-beer-sales" class="chart-canvas" height="170"></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <h6 class="mb-0 ">Beer Sales</h6>
                    {% if period_beer_sales_total > ptd_beer_sales_total_ly %}
                    <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.1f}%".format(ptd_beer_sales_pct) }} over last year</p>
                    {% else %}
                    <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.1f}%".format(ptd_beer_sales_pct) }} below last year</p>
                    {% endif %}
                  </div>
                </div>
              </div>
              <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
                <div class="card z-index-2">
                  <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                    <div class="bg-gradient-info shadow-info border-radius-lg py-3 pe-1">
                      <div class="chart">
                        <canvas id="chart-period-wine-sales" class="chart-canvas" height="170"></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <h6 class="mb-0 ">Wine Sales</h6>
                    {% if period_wine_sales_total > ptd_wine_sales_total_ly %}
                    <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.1f}%".format(ptd_wine_sales_pct) }} over last year</p>
                    {% else %}
                    <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.1f}%".format(ptd_wine_sales_pct) }} below last year</p>
                    {% endif %}
                  </div>
                </div>
              </div>
              <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
                <div class="card z-index-2">
                  <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                    <div class="bg-gradient-info shadow-info border-radius-lg py-3 pe-1">
                      <div class="chart">
                        <canvas id="chart-period-liquor-sales" class="chart-canvas" height="170"></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <h6 class="mb-0 ">Liquor Sales</h6>
                    {% if period_liquor_sales_total > ptd_liquor_sales_total_ly %}
                    <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.1f}%".format(ptd_liquor_sales_pct) }} over last year</p>
                    {% else %}
                    <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.1f}%".format(ptd_liquor_sales_pct) }} below last year</p>
                    {% endif %}
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
                <div class="card z-index-2">
                  <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                    <div class="bg-gradient-info shadow-info border-radius-lg py-3 pe-1">
                      <div class="chart">
                        <canvas id="chart-period-giftcard-sales" class="chart-canvas" height="170"></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <h6 class="mb-0 ">Gift Card Sales</h6>
                    {% if period_giftcard_sales_total > ptd_giftcard_sales_total_ly %}
                    <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.1f}%".format(ptd_giftcard_sales_pct) }} over last year</p>
                    {% else %}
                    <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.1f}%".format(ptd_giftcard_sales_pct) }} below last year</p>
                    {% endif %}
                  </div>
                </div>
              </div>
              <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
                <div class="card z-index-2">
                  <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                    <div class="bg-gradient-info shadow-info border-radius-lg py-3 pe-1">
                      <div class="chart">
                        <canvas id="chart-period-giftcard-redeem" class="chart-canvas" height="170"></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <h6 class="mb-0 ">Gift Cards Redeemed</h6>
                    {% if period_giftcard_redeem_total > ptd_giftcard_redeem_total_ly %}
                    <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.1f}%".format(ptd_giftcard_redeem_pct) }} over last year</p>
                    {% else %}
                    <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.1f}%".format(ptd_giftcard_redeem_pct) }} below last year</p>
                    {% endif %}
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="tab-pane fade" id="nav-year" role="tabpanel" aria-labelledby="nav-year-tab">
            <div class="card-header pb-0">
              <div class="row">
                <div class="col-lg-6 col-7">
                  <h4>Year-{{ fiscal_dates["year"] }}</h4>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
                <div class="card z-index-2">
                  <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                    <div class="bg-gradient-warning shadow-warning border-radius-lg py-3 pe-1">
                      <div class="chart">
                        <canvas id="chart-year-lunch-sales" class="chart-canvas" height="170"></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <h6 class="mb-0 ">Lunch Sales</h6>
                    {% if year_lunch_sales_total > ytd_lunch_sales_total_ly %}
                    <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.1f}%".format(ytd_lunch_sales_pct) }} over last year</p>
                    {% else %}
                    <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.1f}%".format(ytd_lunch_sales_pct) }} below last year</p>
                    {% endif %}
                  </div>
                </div>
              </div>
              <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
                <div class="card z-index-2">
                  <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                    <div class="bg-gradient-warning shadow-warning border-radius-lg py-3 pe-1">
                      <div class="chart">
                        <canvas id="chart-year-dinner-sales" class="chart-canvas" height="170"></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <h6 class="mb-0 ">Dinner Sales</h6>
                    {% if year_dinner_sales_total > ytd_dinner_sales_total_ly %}
                    <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.1f}%".format(ytd_dinner_sales_pct) }} over last year</p>
                    {% else %}
                    <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.1f}%".format(ytd_dinner_sales_pct) }} below last year</p>
                    {% endif %}
                  </div>
                </div>
              </div>
              <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
                <div class="card z-index-2">
                  <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                    <div class="bg-gradient-warning shadow-warning border-radius-lg py-3 pe-1">
                      <div class="chart">
                        <canvas id="chart-year-togo-sales" class="chart-canvas" height="170"></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <h6 class="mb-0 ">To-Go Sales</h6>
                    {% if year_togo_sales_total > ytd_togo_sales_total_ly %}
                    <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.1f}%".format(ytd_togo_sales_pct) }} over last year</p>
                    {% else %}
                    <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.1f}%".format(ytd_togo_sales_pct) }} below last year</p>
                    {% endif %}
                  </div>
                </div>
              </div>
              <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
                <div class="card z-index-2">
                  <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                    <div class="bg-gradient-warning shadow-warning border-radius-lg py-3 pe-1">
                      <div class="chart">
                        <canvas id="chart-year-beer-sales" class="chart-canvas" height="170"></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <h6 class="mb-0 ">Beer Sales</h6>
                    {% if year_beer_sales_total > ytd_beer_sales_total_ly %}
                    <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.1f}%".format(ytd_beer_sales_pct) }} over last year</p>
                    {% else %}
                    <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.1f}%".format(ytd_beer_sales_pct) }} below last year</p>
                    {% endif %}
                  </div>
                </div>
              </div>
              <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
                <div class="card z-index-2">
                  <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                    <div class="bg-gradient-warning shadow-warning border-radius-lg py-3 pe-1">
                      <div class="chart">
                        <canvas id="chart-year-wine-sales" class="chart-canvas" height="170"></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <h6 class="mb-0 ">Wine Sales</h6>
                    {% if year_wine_sales_total > ytd_wine_sales_total_ly %}
                    <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.1f}%".format(ytd_wine_sales_pct) }} over last year</p>
                    {% else %}
                    <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.1f}%".format(ytd_wine_sales_pct) }} below last year</p>
                    {% endif %}
                  </div>
                </div>
              </div>
              <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
                <div class="card z-index-2">
                  <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                    <div class="bg-gradient-warning shadow-warning border-radius-lg py-3 pe-1">
                      <div class="chart">
                        <canvas id="chart-year-liquor-sales" class="chart-canvas" height="170"></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <h6 class="mb-0 ">Liquor Sales</h6>
                    {% if year_liquor_sales_total > ytd_liquor_sales_total_ly %}
                    <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.1f}%".format(ytd_liquor_sales_pct) }} over last year</p>
                    {% else %}
                    <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.1f}%".format(ytd_liquor_sales_pct) }} below last year</p>
                    {% endif %}
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
                <div class="card z-index-2">
                  <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                    <div class="bg-gradient-warning shadow-warning border-radius-lg py-3 pe-1">
                      <div class="chart">
                        <canvas id="chart-year-giftcard-sales" class="chart-canvas" height="170"></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <h6 class="mb-0 ">Gift Card Sales</h6>
                    {% if year_giftcard_sales_total > ytd_giftcard_sales_total_ly %}
                    <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.1f}%".format(ytd_giftcard_sales_pct) }} over last year</p>
                    {% else %}
                    <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.1f}%".format(ytd_giftcard_sales_pct) }} below last year</p>
                    {% endif %}
                  </div>
                </div>
              </div>
              <div class="col-xl-4 col-lg-6 col-md-6 mt-4 mb-4">
                <div class="card z-index-2">
                  <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                    <div class="bg-gradient-warning shadow-warning border-radius-lg py-3 pe-1">
                      <div class="chart">
                        <canvas id="chart-year-giftcard-redeem" class="chart-canvas" height="170"></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <h6 class="mb-0 ">Gift Cards Redeemed</h6>
                    {% if year_giftcard_redeem_total > ytd_giftcard_redeem_total_ly %}
                    <p class="text-sm "><i class="fa fa-arrow-up text-success" aria-hidden="true"></i>{{ "{:,.1f}%".format(ytd_giftcard_redeem_pct) }} over last year</p>
                    {% else %}
                    <p class="text-sm "><i class="fa fa-arrow-down text-danger" aria-hidden="true"></i>{{ "{:,.1f}%".format(ytd_giftcard_redeem_pct) }} below last year</p>
                    {% endif %}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  {% include 'includes/footer.html' %}
</div>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

<script src="/static/assets/js/plugins/chartjs.min.js"></script>
<script>
  var cts1 = document.getElementById("wtd-sales-chart").getContext("2d");
  new Chart(cts1, {
    type: "bar",
    data: {
      labels: ["W", "T", "F", "S", "S", "M", "T"],
      datasets: [{
        label: "Daily Sales",
        tension: 0.4,
        borderWidth: 0,
        borderRadius: 4,
        borderSkipped: false,
        backgroundColor: "rgba(255, 255, 255, .8)",
        data: {{ daily_sales_list | safe }},
        maxBarThickness: 6
      }, {
        label: "Last Year",
        tension: 0,
        borderWidth: 0,
        pointRadius: 5,
        pointBackgroundColor: "rgba(200, 200, 200, 1)",
        pointBorderColor: "transparent",
        borderColor: "rgba(200, 200, 200, 1)",
        borderWidth: 4,
        type: "line",
        backgroundColor: "transparent",
        fill: true,
        data: {{ daily_sales_list_ly | safe }},
        maxBarThickness: 6
      }, ],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          display: false,
        }
      },
      interaction: {
        intersect: false,
        mode: 'index',
      },
      scales: {
        y: {
          grid: {
            drawBorder: false,
            display: true,
            drawOnChartArea: true,
            drawTicks: false,
            borderDash: [5, 5],
            color: 'rgba(255, 255, 255, .2)'
          },
          ticks: {
            suggestedMin: 0,
            suggestedMax: 500,
            beginAtZero: true,
            padding: 10,
            font: {
              size: 14,
              weight: 300,
              family: "Roboto",
              style: 'normal',
              lineHeight: 2
            },
            color: "#fff",
            // Abbreviate the thousands
            callback: function(value, index, values) {
              return value / 1e3 + ' T';
            },
          },
        },
        x: {
          grid: {
            drawBorder: false,
            display: true,
            drawOnChartArea: true,
            drawTicks: false,
            borderDash: [5, 5],
            color: 'rgba(255, 255, 255, .2)'
          },
          ticks: {
            display: true,
            color: '#f8f9fa',
            padding: 10,
            font: {
              size: 14,
              weight: 300,
              family: "Roboto",
              style: 'normal',
              lineHeight: 2
            },
          }
        },
      },
    },
  });

  var cts2 = document.getElementById("ptd-sales-chart").getContext("2d");
  new Chart(cts2, {
    type: "bar",
    data: {
      labels: ["W1", "W2", "W3", "W4"],
      datasets: [{
        label: "Weekly Sales",
        tension: 0.4,
        borderWidth: 0,
        backgroundcolor: "rgba(255, 255, 255, .8)",
        pointradius: 5,
        pointbackgroundcolor: "rgba(255, 255, 255, .8)",
        pointbordercolor: "transparent",
        bordercolor: "rgba(255, 255, 255, .8)",
        bordercolor: "rgba(255, 255, 255, .8)",
        borderwidth: 4,
        fill: true,
        data: {{ weekly_sales_list | safe }},
        maxbarthickness: 6
      }, {
        label: "Last Year",
        tension: 0,
        borderwidth: 0,
        pointradius: 5,
        pointbackgroundcolor: "rgba(255, 255, 255, .8)",
        pointbordercolor: "transparent",
        bordercolor: "rgba(255, 255, 255, .8)",
        bordercolor: "rgba(255, 255, 255, .8)",
        borderwidth: 4,
        type: "bar",
        backgroundcolor: "transparent",
        fill: true,
        data: {{ weekly_sales_list_ly | safe }},
        maxbarthickness: 6
      }, ],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          display: false,
        }
      },
      interaction: {
        intersect: false,
        mode: 'index',
      },
      scales: {
        y: {
          grid: {
            drawBorder: false,
            display: true,
            drawOnChartArea: true,
            drawTicks: false,
            borderDash: [5, 5],
            color: 'rgba(255, 255, 255, .2)'
          },
          ticks: {
            display: true,
            color: '#f8f9fa',
            padding: 10,
            font: {
              size: 14,
              weight: 300,
              family: "Roboto",
              style: 'normal',
              lineHeight: 2
            },
            // Abbreviate the millions
            callback: function(value, index, values) {
              return value / 1e3 + ' T';
            },
          }
        },
        x: {
          grid: {
            drawBorder: false,
            display: false,
            drawOnChartArea: false,
            drawTicks: false,
            borderDash: [5, 5]
          },
          ticks: {
            display: true,
            color: '#f8f9fa',
            padding: 10,
            font: {
              size: 14,
              weight: 300,
              family: "Roboto",
              style: 'normal',
              lineHeight: 2
            },
          }
        },
      },
    },
  });

  var cts3 = document.getElementById("ytd-sales-chart").getContext("2d");
  new Chart(cts3, {
    type: "line",
    data: {
      labels: ["P1", "P2", "P3", "P4", "P5", "P6", "P7", "P8", "P9", "P10", "P11", "P12", "P13"],
      datasets: [{
        label: "Period Sales",
        tension: 0,
        borderWidth: 0,
        pointRadius: 5,
        pointBackgroundColor: "rgba(255, 255, 255, .8)",
        pointBorderColor: "transparent",
        borderColor: "rgba(255, 255, 255, .8)",
        borderWidth: 4,
        backgroundColor: "transparent",
        fill: true,
        data: {{ period_sales_list | safe }},
        maxBarThickness: 6
      }, {
        label: "Last Year",
        tension: 0,
        borderWidth: 0,
        pointRadius: 5,
        pointBackgroundColor: "rgba(200, 200, 200, 1)",
        pointBorderColor: "transparent",
        borderColor: "rgba(200, 200, 200, 1)",
        borderWidth: 4,
        type: "line",
        backgroundColor: "transparent",
        fill: true,
        data: {{ period_sales_list_ly | safe }},
        maxBarThickness: 6
      }, ],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          display: false,
        }
      },
      interaction: {
        intersect: false,
        mode: 'index',
      },
      scales: {
        y: {
          grid: {
            drawBorder: false,
            display: true,
            drawOnChartArea: true,
            drawTicks: false,
            borderDash: [5, 5],
            color: 'rgba(255, 255, 255, .2)'
          },
          ticks: {
            display: true,
            padding: 10,
            color: '#f8f9fa',
            font: {
              size: 14,
              weight: 300,
              family: "Roboto",
              style: 'normal',
              lineHeight: 2
            },
            // Abbreviate the millions
            callback: function(value, index, values) {
              return value / 1e3 + ' T';
            },
          },
        },
        x: {
          grid: {
            drawBorder: false,
            display: false,
            drawOnChartArea: false,
            drawTicks: false,
            borderDash: [5, 5]
          },
          ticks: {
            display: true,
            color: '#f8f9fa',
            padding: 10,
            font: {
              size: 14,
              weight: 300,
              family: "Roboto",
              style: 'normal',
              lineHeight: 2
            },
          }
        },
      },
    },
  });

  // Weekly Charts
  function weeklyCommonChart(ctx, chart_type, tyData, label, lyData, lyLabel, chTitle){
      return new Chart(ctx, {
        type: chart_type,
        data: {
          labels: ["W", "T", "F", "S", "S", "M", "T"],
          datasets: [{
            label: label,
            tension: 0.4,
            borderWidth: 0,
            borderRadius: 4,
            borderSkipped: false,
            backgroundColor: "rgba(255, 255, 255, .8)",
            data: tyData,
            maxBarThickness: 6
          }, {
          label: lyLabel,
            tension: 0,
            borderWidth: 0,
            pointRadius: 5,
            pointBackgroundColor: "rgba(200, 200, 200, 1)",
            pointBorderColor: "transparent",
            borderColor: "rgba(200, 200, 200, 1)",
            borderWidth: 4,
            type: "line",
            backgroundColor: "transparent",
            fill: true,
            data: lyData,
            maxBarThickness: 6
          }, ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false,
            },
            title: {
              display: true,
              text: chTitle,
            },
          },
          interaction: {
            intersect: false,
            mode: 'index',
          },
          scales: {
            y: {
              grid: {
                drawBorder: false,
                display: true,
                drawOnChartArea: true,
                drawTicks: false,
                borderDash: [5, 5],
                color: 'rgba(255, 255, 255, .2)'
              },
              ticks: {
                display: true,
                padding: 10,
                font: {
                  size: 14,
                  weight: 300,
                  family: "Roboto",
                  style: 'normal',
                  lineHeight: 2
                },
                color: "#fff",
                // Abbreviate the thousands
                callback: function(value, index, values) {
                  return value / 1e3 + ' T';
                },
              },
            },
            x: {
              grid: {
                drawBorder: false,
                display: true,
                drawOnChartArea: true,
                drawTicks: false,
                borderDash: [5, 5],
                color: 'rgba(255, 255, 255, .2)'
              },
              ticks: {
                display: true,
                color: '#f8f9fa',
                padding: 10,
                font: {
                  size: 14,
                  weight: 300,
                  family: "Roboto",
                  style: 'normal',
                  lineHeight: 2
                },
              }
            },
          },
        },
      });
  }

  var ctw1 = document.getElementById("chart-week-lunch-sales").getContext("2d");
  weeklyCommonChart(ctw1, "bar", {{ week_lunch_sales_list | safe }}, "Lunch Sales", {{ week_lunch_sales_list_ly | safe }}, "Same Day LY", "Lunch Sales");

  var ctw2 = document.getElementById("chart-week-dinner-sales").getContext("2d");
  weeklyCommonChart(ctw2, "bar", {{ week_dinner_sales_list | safe }}, "Dinner Sales", {{ week_dinner_sales_list_ly | safe }}, "Same Day LY", "Dinner Sales");

  var ctw3 = document.getElementById("chart-week-togo-sales").getContext("2d");
  weeklyCommonChart(ctw3, "bar", {{ week_togo_sales_list | safe }}, "To-Go Sales", {{ week_togo_sales_list_ly | safe }}, "Same Day LY", "To-Go Sales");

  var ctw4 = document.getElementById("chart-week-beer-sales").getContext("2d");
  weeklyCommonChart(ctw4, "bar", {{ week_beer_sales_list | safe }}, "Beer Sales", {{ week_beer_sales_list_ly | safe }}, "Same Day LY", "Beer Sales");

  var ctw5 = document.getElementById("chart-week-wine-sales").getContext("2d");
  weeklyCommonChart(ctw5, "bar", {{ week_wine_sales_list | safe }}, "Wine Sales", {{ week_wine_sales_list_ly | safe }}, "Same Day LY", "Wine Sales");

  var ctw6 = document.getElementById("chart-week-liquor-sales").getContext("2d");
  weeklyCommonChart(ctw6, "bar", {{ week_liquor_sales_list | safe }}, "Liquor Sales", {{ week_liquor_sales_list_ly | safe }}, "Same Day LY", "Liquor Sales");

  var ctw7 = document.getElementById("chart-week-giftcard-sales").getContext("2d");
  weeklyCommonChart(ctw7, "bar", {{ week_giftcard_sales_list | safe }}, "Gift Card Sales", {{ week_giftcard_sales_list_ly | safe }}, "Same Day LY", "Gift Card Sales");

  var ctw8 = document.getElementById("chart-week-giftcard-redeem").getContext("2d");
  weeklyCommonChart(ctw8, "bar", {{ week_giftcard_redeem_list | safe }}, "Gift Cards Redeemed", {{ week_giftcard_redeem_list_ly | safe }}, "Same Day LY", "Gift Cards Redeemed");

  // Period Charts
  function periodCommonChart(ctx, chart_type, tyData, label, lyData, lyLabel, chTitle){
      return new Chart(ctx, {
        type: chart_type,
        data: {
          labels: ["W1", "W2", "W3", "W4"],
          datasets: [{
            label: label,
            tension: 0.4,
            borderWidth: 0,
            backgroundcolor: "rgba(255, 255, 255, .8)",
            pointradius: 5,
            pointbackgroundcolor: "rgba(255, 255, 255, .8)",
            pointbordercolor: "transparent",
            bordercolor: "rgba(255, 255, 255, .8)",
            bordercolor: "rgba(255, 255, 255, .8)",
            borderwidth: 4,
            fill: true,
            data: tyData,
            maxbarthickness: 6
          }, {
            label: lyLabel,
            tension: 0,
            borderwidth: 0,
            pointradius: 5,
            pointbackgroundcolor: "rgba(255, 255, 255, .8)",
            pointbordercolor: "transparent",
            bordercolor: "rgba(255, 255, 255, .8)",
            bordercolor: "rgba(255, 255, 255, .8)",
            borderwidth: 4,
            type: chart_type,
            backgroundcolor: "transparent",
            fill: true,
            data: lyData,
            maxbarthickness: 6
          }, ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false,
            },
            title: {
              display: true,
              text: chTitle,
            },
          },
          interaction: {
            intersect: false,
            mode: 'index',
          },
          scales: {
            y: {
              grid: {
                drawBorder: false,
                display: true,
                drawOnChartArea: true,
                drawTicks: false,
                borderDash: [5, 5],
                color: 'rgba(255, 255, 255, .2)'
              },
              ticks: {
                display: true,
                color: "#f8f9fa",
                padding: 10,
                font: {
                  size: 14,
                  weight: 300,
                  family: "Roboto",
                  style: 'normal',
                  lineHeight: 2
                },
                // Abbreviate the thousands
                callback: function(value, index, values) {
                  return value / 1e3 + ' T';
                },
              },
            },
            x: {
              grid: {
                drawBorder: false,
                display: true,
                drawOnChartArea: true,
                drawTicks: false,
                borderDash: [5, 5],
                color: 'rgba(255, 255, 255, .2)'
              },
              ticks: {
                display: true,
                color: '#f8f9fa',
                padding: 10,
                font: {
                  size: 14,
                  weight: 300,
                  family: "Roboto",
                  style: 'normal',
                  lineHeight: 2
                },
              }
            },
          },
        },
      })
  }

  var ctp1 = document.getElementById("chart-period-lunch-sales").getContext("2d");
  periodCommonChart(ctp1, "bar", {{ period_lunch_sales_list | safe }}, "Lunch Sales", {{ period_lunch_sales_list_ly | safe }}, "Same Week LY", "Lunch Sales");

  var ctp2 = document.getElementById("chart-period-dinner-sales").getContext("2d");
  periodCommonChart(ctp2, "bar", {{ period_dinner_sales_list | safe }}, "Dinner Sales", {{ period_dinner_sales_list_ly | safe }}, "Same Week LY", "Dinner Sales");

  var ctp3 = document.getElementById("chart-period-togo-sales").getContext("2d");
  periodCommonChart(ctp3, "bar", {{ period_togo_sales_list | safe }}, "To-Go Sales", {{ period_togo_sales_list_ly | safe }}, "Same Week LY", "To-Go Sales");

  var ctp4 = document.getElementById("chart-period-beer-sales").getContext("2d");
  periodCommonChart(ctp4, "bar", {{ period_beer_sales_list | safe }}, "Beer Sales", {{ period_beer_sales_list_ly | safe }}, "Same Week LY", "Beer Sales");
  
  var ctp5 = document.getElementById("chart-period-wine-sales").getContext("2d");
  periodCommonChart(ctp5, "bar", {{ period_wine_sales_list | safe }}, "Wine Sales", {{ period_wine_sales_list_ly | safe }}, "Same Week LY", "Wine Sales");

  var ctp6 = document.getElementById("chart-period-liquor-sales").getContext("2d");
  periodCommonChart(ctp6, "bar", {{ period_liquor_sales_list | safe }}, "Liquor Sales", {{ period_liquor_sales_list_ly | safe }}, "Same Week LY", "Liquor Sales");

  var ctp7 = document.getElementById("chart-period-giftcard-sales").getContext("2d");
  periodCommonChart(ctp7, "bar", {{ period_giftcard_sales_list | safe }}, "Gift Card Sales", {{ period_giftcard_sales_list_ly | safe }}, "Same Week LY", "Gift Card Sales");
  
  var ctp8 = document.getElementById("chart-period-giftcard-redeem").getContext("2d");
  periodCommonChart(ctp8, "bar", {{ period_giftcard_redeem_list | safe }}, "Gift Cards Redeemed", {{ period_giftcard_redeem_list_ly | safe }}, "Same Week LY", "Gift Cards Redeemed");

  // Year Charts
  function yearlyCommonChart(ctx, chart_type, tyData, label, lyData, lyLabel, chTitle){
      return new Chart(ctx, {
        type: chart_type,
        data: {
          labels: ["P1", "P2", "P3", "P4", "P5", "P6", "P7", "P8", "P9", "P10", "P11", "P12", "P13"],
          datasets: [{
            label: label,
            tension: 0,
            borderWidth: 0,
            pointRadius: 5,
            pointBackgroundColor: "rgba(255, 255, 255, .8)",
            pointBorderColor: "transparent",
            borderColor: "rgba(255, 255, 255, .8)",
            borderWidth: 4,
            backgroundColor: "transparent",
            fill: true,
            data: tyData,
            maxBarThickness: 6
          }, {
          label: lyLabel,
            tension: 0,
            borderWidth: 0,
            pointRadius: 5,
            pointBackgroundColor: "rgba(200, 200, 200, 1)",
            pointBorderColor: "transparent",
            borderColor: "rgba(200, 200, 200, 1)",
            borderWidth: 4,
            type: chart_type,
            backgroundColor: "transparent",
            fill: true,
            data: lyData,
            maxBarThickness: 6
          }, ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false,
            },
            title: {
              display: true,
              text: chTitle,
            },
          },
          interaction: {
            intersect: false,
            mode: 'index',
          },
          scales: {
            y: {
              grid: {
                drawBorder: false,
                display: true,
                drawOnChartArea: true,
                drawTicks: false,
                borderDash: [5, 5],
                color: 'rgba(255, 255, 255, .2)'
              },
              ticks: {
                display: true,
                padding: 10,
                color: '#f8f9fa',
                font: {
                  size: 14,
                  weight: 300,
                  family: "Roboto",
                  style: 'normal',
                  lineHeight: 2
                },
                // Abbreviate the millions
                callback: function(value, index, values) {
                  return value / 1e3 + ' T';
                },
              },
            },
            x: {
              grid: {
                drawBorder: false,
                display: false,
                drawOnChartArea: false,
                drawTicks: false,
                borderDash: [5, 5]
              },
              ticks: {
                display: true,
                color: '#f8f9fa',
                padding: 10,
                font: {
                  size: 14,
                  weight: 300,
                  family: "Roboto",
                  style: 'normal',
                  lineHeight: 2
                },
              }
            },
          },
        },
      });
  }

  var cty1 = document.getElementById("chart-year-lunch-sales").getContext("2d");
  yearlyCommonChart(cty1, "line", {{ year_lunch_sales_list | safe }}, "Lunch Sales", {{ year_lunch_sales_list_ly | safe }}, "Same Period LY", "Lunch Sales");

  var cty2 = document.getElementById("chart-year-dinner-sales").getContext("2d");
  yearlyCommonChart(cty2, "line", {{ year_dinner_sales_list | safe }}, "Dinner Sales", {{ year_dinner_sales_list_ly | safe }}, "Same Period LY", "Dinner Sales");

  var cty3 = document.getElementById("chart-year-togo-sales").getContext("2d");
  yearlyCommonChart(cty3, "line", {{ year_togo_sales_list | safe }}, "To-Go Sales", {{ year_togo_sales_list_ly | safe }}, "Same Period LY", "To-Go Sales");

  var cty4 = document.getElementById("chart-year-beer-sales").getContext("2d");
  yearlyCommonChart(cty4, "line", {{ year_beer_sales_list | safe }}, "Beer Sales", {{ year_beer_sales_list_ly | safe }}, "Same Period LY", "Beer Sales");

  var cty5 = document.getElementById("chart-year-wine-sales").getContext("2d");
  yearlyCommonChart(cty5, "line", {{ year_wine_sales_list | safe }}, "Wine Sales", {{ year_wine_sales_list_ly | safe }}, "Same Period LY", "Wine Sales");

  var cty6 = document.getElementById("chart-year-liquor-sales").getContext("2d");
  yearlyCommonChart(cty6, "line", {{ year_liquor_sales_list | safe }}, "Liquor Sales", {{ year_liquor_sales_list_ly | safe }}, "Same Period LY", "Liquor Sales");

  var cty7 = document.getElementById("chart-year-giftcard-sales").getContext("2d");
  yearlyCommonChart(cty7, "line", {{ year_giftcard_sales_list | safe }}, "Gift Card Sales", {{ year_giftcard_sales_list_ly | safe }}, "Same Period LY", "Gift Card Sales");
  
  var cty8 = document.getElementById("chart-year-giftcard-redeem").getContext("2d");
  yearlyCommonChart(cty8, "line", {{ year_giftcard_redeem_list | safe }}, "Gift Cards Redeemed", {{ year_giftcard_redeem_list_ly | safe }}, "Same Period LY", "Gift Cards Redeemed");

</script>
{% endblock javascripts %}
